(this["webpackJsonpgoit-react-hw-08-phonebook"]=this["webpackJsonpgoit-react-hw-08-phonebook"]||[]).push([[2],{100:function(t,e,n){},103:function(t,e,n){"use strict";n.r(e);var a=n(0),r=n.n(a),c=n(25),u=n.n(c),s=(n(56),n(5)),i=n(33),o=n.n(i),l=n(18),b=n(17),f=n(30),j=n.n(f),d=n(1),p=function(){return Object(d.jsxs)("nav",{children:[Object(d.jsx)(b.b,{exact:!0,to:"/",className:j.a.navLink,activeClassName:j.a.activeLink,children:"Home"}),Object(d.jsx)("hr",{})]})},h=n(20),v=n.n(h);function O(){return Object(d.jsxs)("div",{className:v.a.nav__container,children:[Object(d.jsx)(b.b,{to:"/signup",className:v.a.navLink,activeClassName:v.a.activeLink,children:"SignUp"}),Object(d.jsx)(b.b,{to:"/login",className:v.a.navLink,activeClassName:v.a.activeLink,children:"LogIn"})]})}var x=n(46),_=n(26),g=n(47),m=n.n(g);function k(){var t=Object(l.c)(_.a);return Object(d.jsxs)("header",{className:m.a.header__style,children:[Object(d.jsx)(p,{}),t?Object(d.jsx)(x.default,{}):Object(d.jsx)(O,{})]})}var y=function(t){var e=t.children;return Object(d.jsx)("div",{children:e})},L=(n(100),Object(a.lazy)((function(){return n.e(0).then(n.bind(null,108))}))),N=Object(a.lazy)((function(){return n.e(4).then(n.bind(null,109))})),w=Object(a.lazy)((function(){return n.e(1).then(n.bind(null,110))})),C=Object(a.lazy)((function(){return Promise.resolve().then(n.bind(null,46))}));function I(){return Object(d.jsxs)("div",{className:"Container",children:[Object(d.jsx)(k,{}),Object(d.jsx)(y,{children:Object(d.jsx)(a.Suspense,{fallback:Object(d.jsx)(o.a,{}),children:Object(d.jsxs)(s.c,{children:[Object(d.jsx)(s.a,{exact:!0,path:"/",component:L}),Object(d.jsx)(s.a,{path:"/signup",component:N}),Object(d.jsx)(s.a,{path:"/login",component:w}),Object(d.jsx)(s.a,{path:"/menu",component:C})]})})})]})}var z=n(6),A=n(4),W=n(14),M=n(51),S=n(7),U=n.n(S),V=n(15),R=n(13),Z=n.n(R);Z.a.defaults.baseURL="https://6198e96a164fa60017c2321d.mockapi.io/contacts";var B,E,F=Object(A.c)("contacts/addContacts",function(){var t=Object(V.a)(U.a.mark((function t(e,n){var a,r,c;return U.a.wrap((function(t){for(;;)switch(t.prev=t.next){case 0:return a=n.rejectWithValue,t.prev=1,t.next=4,Z.a.post("/contacts",e);case 4:return r=t.sent,c=r.data,t.abrupt("return",c);case 9:t.prev=9,t.t0=t.catch(1),a(t.t0.message);case 12:case"end":return t.stop()}}),t,null,[[1,9]])})));return function(e,n){return t.apply(this,arguments)}}()),q=Object(A.c)("contacts/fetchContacts",function(){var t=Object(V.a)(U.a.mark((function t(e,n){var a,r,c;return U.a.wrap((function(t){for(;;)switch(t.prev=t.next){case 0:return a=n.rejectWithValue,t.prev=1,t.next=4,Z.a.get("/contacts");case 4:return r=t.sent,c=r.data,t.abrupt("return",c);case 9:t.prev=9,t.t0=t.catch(1),a(t.t0.message);case 12:case"end":return t.stop()}}),t,null,[[1,9]])})));return function(e,n){return t.apply(this,arguments)}}()),H=Object(A.c)("contacts/removeContact",function(){var t=Object(V.a)(U.a.mark((function t(e,n){var a,r,c;return U.a.wrap((function(t){for(;;)switch(t.prev=t.next){case 0:return a=n.rejectWithValue,t.prev=1,t.next=4,Z.a.delete("/contacts/".concat(e));case 4:return r=t.sent,c=r.data.id,t.abrupt("return",c);case 9:t.prev=9,t.t0=t.catch(1),a(t.t0.message);case 12:case"end":return t.stop()}}),t,null,[[1,9]])})));return function(e,n){return t.apply(this,arguments)}}()),J=Object(A.b)("contact/filter"),X=Object(A.d)([],(B={},Object(W.a)(B,q.fulfilled,(function(t,e){return e.payload})),Object(W.a)(B,F.fulfilled,(function(t,e){var n=e.payload;return[].concat(Object(M.a)(t),[n])})),Object(W.a)(B,H.fulfilled,(function(t,e){var n=e.payload;t.filter((function(t){return t.id!==n}))})),B)),P=Object(A.d)("",Object(W.a)({},J,(function(t,e){return e.payload}))),Q=n(19),D=(Object(A.b)("auth/loginRequest"),Object(A.b)("auth/loginSuccess")),G=Object(A.b)("auth/loginError"),K=Object(A.e)({name:"auth",initialState:{user:{name:"",email:""},token:"",isLoggedIn:!1},extraReducers:(E={},Object(W.a)(E,Q.d.fulfilled,(function(t,e){var n=e.payload;t.user=n.user,t.token=n.token,t.isLoggedIn=!0})),Object(W.a)(E,Q.b.fulfilled,(function(t,e){var n=e.payload;t.user=n.user,t.token=n.token,t.isLoggedIn=!0})),Object(W.a)(E,Q.c.fulfilled,(function(t,e){t.user={name:"",email:""},t.token="",t.isLoggedIn=!1})),Object(W.a)(E,Q.a.fulfilled,(function(t,e){var n=e.payload;t.user=n,t.isLoggedIn=!0})),Object(W.a)(E,D,(function(t,e){var n=e.payload;t.user=n.user,t.token=n.token,t.isLoggedIn=!0})),Object(W.a)(E,G,(function(t,e){var n=e.payload;t.error=n})),E)}).reducer,T=n(48),Y=n.n(T),$=n(16),tt=n(49),et={key:"auth",version:1,storage:n.n(tt).a,whitelist:["token"]},nt=Object(z.b)({contactList:X,contactFilter:P}),at=Object(A.a)({reducer:{contacts:nt,auth:Object($.g)(et,K)},middleware:function(t){return t({serializableCheck:{ignoredActions:[$.a,$.f,$.b,$.c,$.d,$.e]}}).concat(Y.a)}}),rt=Object($.h)(at),ct=n(50);u.a.render(Object(d.jsx)(r.a.StrictMode,{children:Object(d.jsx)(l.a,{store:at,children:Object(d.jsx)(ct.a,{persistor:rt,loading:null,children:Object(d.jsx)(b.a,{children:Object(d.jsx)(I,{})})})})}),document.getElementById("root"))},19:function(t,e,n){"use strict";n.d(e,"d",(function(){return b})),n.d(e,"b",(function(){return f})),n.d(e,"c",(function(){return j})),n.d(e,"a",(function(){return d}));var a=n(7),r=n.n(a),c=n(15),u=n(13),s=n.n(u),i=n(4);s.a.defaults.baseURL="https://connections-api.herokuapp.com";var o=function(t){s.a.defaults.headers.common.Authorization="Bearer ".concat(t)},l=function(){s.a.defaults.headers.common.Authorization=""},b=Object(i.c)("auth/register",function(){var t=Object(c.a)(r.a.mark((function t(e,n){var a,c,u;return r.a.wrap((function(t){for(;;)switch(t.prev=t.next){case 0:return a=n.rejectWithValue,t.prev=1,t.next=4,s.a.post("/users/signup",e);case 4:return c=t.sent,u=c.data,o(u.token),t.abrupt("return",u);case 10:t.prev=10,t.t0=t.catch(1),a(t.t0);case 13:case"end":return t.stop()}}),t,null,[[1,10]])})));return function(e,n){return t.apply(this,arguments)}}()),f=Object(i.c)("auth/login",function(){var t=Object(c.a)(r.a.mark((function t(e,n){var a,c,u;return r.a.wrap((function(t){for(;;)switch(t.prev=t.next){case 0:return a=n.rejectWithValue,t.prev=1,t.next=4,s.a.post("/users/login",e);case 4:return c=t.sent,u=c.data,o(u.token),t.abrupt("return",u);case 10:t.prev=10,t.t0=t.catch(1),a(t.t0);case 13:case"end":return t.stop()}}),t,null,[[1,10]])})));return function(e,n){return t.apply(this,arguments)}}()),j=Object(i.c)("auth/logout",function(){var t=Object(c.a)(r.a.mark((function t(e,n){var a;return r.a.wrap((function(t){for(;;)switch(t.prev=t.next){case 0:return a=n.rejectWithValue,t.prev=1,t.next=4,s.a.post("/users/logout");case 4:l(),t.next=10;break;case 7:t.prev=7,t.t0=t.catch(1),a(t.t0);case 10:case"end":return t.stop()}}),t,null,[[1,7]])})));return function(e,n){return t.apply(this,arguments)}}()),d=Object(i.c)("auth/refresh",function(){var t=Object(c.a)(r.a.mark((function t(e,n,a){var c,u,i,o;return r.a.wrap((function(t){for(;;)switch(t.prev=t.next){case 0:if(c=a(),null!==(u=c.auth.token)){t.next=4;break}return t.abrupt("return",n());case 4:return u.set(u),t.prev=5,t.next=8,s.a.get("/users/current");case 8:return i=t.sent,o=i.data,t.abrupt("return",o);case 13:t.prev=13,t.t0=t.catch(5),n(t.t0);case 16:case"end":return t.stop()}}),t,null,[[5,13]])})));return function(e,n,a){return t.apply(this,arguments)}}())},20:function(t,e,n){t.exports={navLink:"AuthNav_navLink__1FZ1a",activeNavLink:"AuthNav_activeNavLink__ZE7yM",nav__container:"AuthNav_nav__container__1vMuZ"}},26:function(t,e,n){"use strict";n.d(e,"a",(function(){return a})),n.d(e,"b",(function(){return r}));var a=function(t){return t.auth.isLoggedIn},r=function(t){return t.auth.user.name}},27:function(t,e,n){t.exports={user__container:"UserMenu_user__container__Ufilq",logout__btn:"UserMenu_logout__btn__ZNavM"}},30:function(t,e,n){t.exports={navLink:"Navigation_navLink___FiXb",activeNavLink:"Navigation_activeNavLink__2dQuH"}},46:function(t,e,n){"use strict";n.r(e),n.d(e,"default",(function(){return o}));var a=n(27),r=n.n(a),c=n(18),u=n(26),s=n(19),i=n(1);function o(){var t=Object(c.b)(),e=Object(c.c)(u.b);return Object(i.jsxs)("div",{className:r.a.user__container,children:[Object(i.jsxs)("span",{className:r.a.greeting__title,children:["Welcome, ",e,"!"]}),Object(i.jsx)("button",{type:"button",className:r.a.logout__btn,onClick:function(){return t(Object(s.c)())},children:"LogOut"})]})}},47:function(t,e,n){t.exports={header__style:"AppBar_header__style__XSbLe"}},56:function(t,e,n){}},[[103,3,5]]]);
//# sourceMappingURL=main.7b4ecfdd.chunk.js.map