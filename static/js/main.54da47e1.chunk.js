(this["webpackJsonpgoit-react-hw-08-phonebook"]=this["webpackJsonpgoit-react-hw-08-phonebook"]||[]).push([[2],{102:function(t,e,n){},105:function(t,e,n){"use strict";n.r(e);var a=n(0),c=n.n(a),r=n(28),u=n.n(r),i=(n(58),n(4)),o=n(46),s=n.n(o),l=n(15),b=n(17),j=n(23),f=n.n(j),p=n(1),d=function(){return Object(p.jsxs)("nav",{children:[Object(p.jsx)(b.b,{exact:!0,to:"/",className:f.a.navLink,activeClassName:f.a.activeLink,children:"Home"}),Object(p.jsx)(b.b,{exact:!0,to:"/contacts",className:f.a.navLink,activeClassName:f.a.activeLink,children:"Phonebook"}),Object(p.jsx)("hr",{})]})},h=n(20),v=n.n(h);function O(){return Object(p.jsxs)("div",{className:v.a.nav__container,children:[Object(p.jsx)(b.b,{to:"/signup",className:v.a.navLink,activeClassName:v.a.activeLink,children:"SignUp"}),Object(p.jsx)(b.b,{to:"/login",className:v.a.navLink,activeClassName:v.a.activeLink,children:"LogIn"})]})}var x=n(30),_=n.n(x),k=n(25),g=n(16);function m(){var t=Object(l.b)(),e=Object(l.c)(k.b);return Object(p.jsxs)("div",{className:_.a.user__container,children:[Object(p.jsxs)("span",{className:_.a.greeting__title,children:["Welcome, ",e,"!"]}),Object(p.jsx)("button",{type:"button",className:_.a.logout__btn,onClick:function(){return t(Object(g.c)())},children:"LogOut"})]})}var L=n(49),y=n.n(L);function N(){var t=Object(l.c)(k.a);return Object(p.jsxs)("header",{className:y.a.header__style,children:[Object(p.jsx)(d,{}),t?Object(p.jsx)(m,{}):Object(p.jsx)(O,{})]})}var w=function(t){var e=t.children;return Object(p.jsx)("div",{children:e})},C=(n(102),Object(a.lazy)((function(){return n.e(0).then(n.bind(null,114))}))),W=Object(a.lazy)((function(){return n.e(5).then(n.bind(null,115))})),I=Object(a.lazy)((function(){return n.e(1).then(n.bind(null,116))})),V=Object(a.lazy)((function(){return n.e(3).then(n.bind(null,110))}));function z(){var t=Object(l.b)();return Object(a.useEffect)((function(){t(Object(g.a)())}),[t]),Object(p.jsxs)("div",{className:"Container",children:[Object(p.jsx)(N,{}),Object(p.jsx)(w,{children:Object(p.jsx)(a.Suspense,{fallback:Object(p.jsx)(s.a,{}),children:Object(p.jsxs)(i.c,{children:[Object(p.jsx)(i.a,{exact:!0,path:"/",component:C}),Object(p.jsx)(i.a,{path:"/contacts",component:V}),Object(p.jsx)(i.a,{path:"/signup",component:W}),Object(p.jsx)(i.a,{path:"/login",component:I})]})})})]})}var A,M,S=n(6),U=n(5),Z=n(14),B=n(53),E=n(24),F=n(35),H=Object(U.d)([],(A={},Object(Z.a)(A,E.b.fulfilled,(function(t,e){return e.payload})),Object(Z.a)(A,E.a.fulfilled,(function(t,e){var n=e.payload;return[].concat(Object(B.a)(t),[n])})),Object(Z.a)(A,E.c.fulfilled,(function(t,e){var n=e.payload;t.filter((function(t){return t.id!==n}))})),A)),J=Object(U.d)("",Object(Z.a)({},F.a,(function(t,e){return e.payload}))),R=Object(U.e)({name:"auth",initialState:{user:{name:"",email:""},token:"",isLoggedIn:!1},extraReducers:(M={},Object(Z.a)(M,g.d.fulfilled,(function(t,e){var n=e.payload;t.user=n.user,t.token=n.token,t.isLoggedIn=!0})),Object(Z.a)(M,g.b.fulfilled,(function(t,e){var n=e.payload;t.user=n.user,t.token=n.token,t.isLoggedIn=!0})),Object(Z.a)(M,g.c.fulfilled,(function(t,e){t.user={name:"",email:""},t.token="",t.isLoggedIn=!1})),Object(Z.a)(M,g.a.fulfilled,(function(t,e){var n=e.payload;t.user=n,t.isLoggedIn=!0})),M)}).reducer,X=n(50),q=n.n(X),P=n(19),Q=n(51),D={key:"auth",storage:n.n(Q).a,whitelist:["token"]},G=Object(S.b)({contactList:H,contactFilter:J}),K=Object(U.a)({reducer:{auth:Object(P.g)(D,R),contacts:G},middleware:function(t){return t({serializableCheck:{ignoredActions:[P.a,P.f,P.b,P.c,P.d,P.e]}}).concat(q.a)}}),T=Object(P.h)(K),Y=n(52);u.a.render(Object(p.jsx)(c.a.StrictMode,{children:Object(p.jsx)(l.a,{store:K,children:Object(p.jsx)(Y.a,{persistor:T,loading:null,children:Object(p.jsx)(b.a,{children:Object(p.jsx)(z,{})})})})}),document.getElementById("root"))},16:function(t,e,n){"use strict";n.d(e,"d",(function(){return j})),n.d(e,"b",(function(){return f})),n.d(e,"c",(function(){return p})),n.d(e,"a",(function(){return d}));var a=n(7),c=n.n(a),r=n(18),u=n(13),i=n.n(u),o=n(5),s="https://connections-api.herokuapp.com",l=function(t){i.a.defaults.headers.common.Authorization="Bearer ".concat(t)},b=function(){i.a.defaults.headers.common.Authorization=""},j=Object(o.c)("auth/register",function(){var t=Object(r.a)(c.a.mark((function t(e,n){var a,r,u;return c.a.wrap((function(t){for(;;)switch(t.prev=t.next){case 0:return a=n.rejectWithValue,t.prev=1,t.next=4,i.a.post("".concat(s,"/users/signup"),e);case 4:return r=t.sent,u=r.data,l(u.token),t.abrupt("return",u);case 10:t.prev=10,t.t0=t.catch(1),a(t.t0);case 13:case"end":return t.stop()}}),t,null,[[1,10]])})));return function(e,n){return t.apply(this,arguments)}}()),f=Object(o.c)("auth/login",function(){var t=Object(r.a)(c.a.mark((function t(e,n){var a,r,u;return c.a.wrap((function(t){for(;;)switch(t.prev=t.next){case 0:return a=n.rejectWithValue,t.prev=1,t.next=4,i.a.post("".concat(s,"/users/login"),e);case 4:return r=t.sent,u=r.data,l(u.token),t.abrupt("return",u);case 10:t.prev=10,t.t0=t.catch(1),a(t.t0);case 13:case"end":return t.stop()}}),t,null,[[1,10]])})));return function(e,n){return t.apply(this,arguments)}}()),p=Object(o.c)("auth/logout",function(){var t=Object(r.a)(c.a.mark((function t(e,n){var a;return c.a.wrap((function(t){for(;;)switch(t.prev=t.next){case 0:return a=n.rejectWithValue,t.prev=1,t.next=4,i.a.post("".concat(s,"/users/logout"));case 4:b(),t.next=10;break;case 7:t.prev=7,t.t0=t.catch(1),a(t.t0);case 10:case"end":return t.stop()}}),t,null,[[1,7]])})));return function(e,n){return t.apply(this,arguments)}}()),d=Object(o.c)("auth/refresh",function(){var t=Object(r.a)(c.a.mark((function t(e,n,a){var r,u,o,s,b;return c.a.wrap((function(t){for(;;)switch(t.prev=t.next){case 0:if(r=a.rejectWithValue,u=n.getState(),""!==(o=u.auth.token)){t.next=6;break}return console.log("No token"),t.abrupt("return",n.rejectWithValue());case 6:return l(o),t.prev=7,t.next=10,i.a.get("/users/current");case 10:return s=t.sent,b=s.data,t.abrupt("return",b);case 15:t.prev=15,t.t0=t.catch(7),r(t.t0);case 18:case"end":return t.stop()}}),t,null,[[7,15]])})));return function(e,n,a){return t.apply(this,arguments)}}())},20:function(t,e,n){t.exports={navLink:"AuthNav_navLink__1FZ1a",activeNavLink:"AuthNav_activeNavLink__ZE7yM",nav__container:"AuthNav_nav__container__1vMuZ"}},23:function(t,e,n){t.exports={navLink:"Navigation_navLink___FiXb",activeNavLink:"Navigation_activeNavLink__2dQuH"}},24:function(t,e,n){"use strict";n.d(e,"a",(function(){return s})),n.d(e,"b",(function(){return l})),n.d(e,"c",(function(){return b}));var a=n(7),c=n.n(a),r=n(18),u=n(13),i=n.n(u),o=n(5);i.a.defaults.baseURL="https://connections-api.herokuapp.com";var s=Object(o.c)("contacts/addContacts",function(){var t=Object(r.a)(c.a.mark((function t(e,n){var a,r,u;return c.a.wrap((function(t){for(;;)switch(t.prev=t.next){case 0:return a=n.rejectWithValue,t.prev=1,t.next=4,i.a.post("/contacts",e);case 4:return r=t.sent,u=r.data,t.abrupt("return",u);case 9:t.prev=9,t.t0=t.catch(1),a(t.t0.message);case 12:case"end":return t.stop()}}),t,null,[[1,9]])})));return function(e,n){return t.apply(this,arguments)}}()),l=Object(o.c)("contacts/fetchContacts",function(){var t=Object(r.a)(c.a.mark((function t(e,n){var a,r,u;return c.a.wrap((function(t){for(;;)switch(t.prev=t.next){case 0:return a=n.rejectWithValue,t.prev=1,t.next=4,i.a.get("/contacts");case 4:return r=t.sent,u=r.data,t.abrupt("return",u);case 9:t.prev=9,t.t0=t.catch(1),a(t.t0.message);case 12:case"end":return t.stop()}}),t,null,[[1,9]])})));return function(e,n){return t.apply(this,arguments)}}()),b=Object(o.c)("contacts/removeContact",function(){var t=Object(r.a)(c.a.mark((function t(e,n){var a,r,u;return c.a.wrap((function(t){for(;;)switch(t.prev=t.next){case 0:return a=n.rejectWithValue,t.prev=1,t.next=4,i.a.delete("/contacts/".concat(e));case 4:return r=t.sent,u=r.data.id,t.abrupt("return",u);case 9:t.prev=9,t.t0=t.catch(1),a(t.t0.message);case 12:case"end":return t.stop()}}),t,null,[[1,9]])})));return function(e,n){return t.apply(this,arguments)}}())},25:function(t,e,n){"use strict";n.d(e,"a",(function(){return a})),n.d(e,"b",(function(){return c}));var a=function(t){return t.auth.isLoggedIn},c=function(t){return t.auth.user.name}},30:function(t,e,n){t.exports={user__container:"UserMenu_user__container__Ufilq",logout__btn:"UserMenu_logout__btn__ZNavM"}},35:function(t,e,n){"use strict";n.d(e,"a",(function(){return c}));var a=n(5),c=Object(a.b)("contact/filter")},49:function(t,e,n){t.exports={header__style:"AppBar_header__style__XSbLe"}},58:function(t,e,n){}},[[105,4,6]]]);
//# sourceMappingURL=main.54da47e1.chunk.js.map